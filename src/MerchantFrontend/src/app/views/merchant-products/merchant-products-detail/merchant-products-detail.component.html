<form clrForm clrLayout="vertical" [formGroup]="form" *ngIf="null !== product">
  <h3>{{'MERCHANT.PRODUCTS.DETAILS.HEADLINE' | translate}}</h3>
  <clr-select-container>
    <label>{{'MERCHANT.PRODUCTS.DETAILS.PRODUCT_TYPE' | translate}}</label>
    <select clrSelect name="types" formControlName="productType"
    (ngModelChange)="potentiallyAddServiceBookingTemplate($event)">
      <option value="product">{{'COMMON.PRODUCT' | translate}}</option>
      <option value="storeWindow">{{'COMMON.SHOWCASE' | translate}}</option>
      <option value="voucher">{{'COMMON.VOUCHER' | translate}}</option>
      <option value="service">{{'COMMON.SERVICE' | translate}}</option>
    </select>
  </clr-select-container>
  <clr-input-container>
    <label>{{'MERCHANT.PRODUCTS.DETAILS.PRODUCT_NAME' | translate}}</label>
    <input
      clrInput
      type="text"
      formControlName="name"
      name="example"
      required
    />
  </clr-input-container>
  <clr-textarea-container>
    <label>{{'MERCHANT.PRODUCTS.DETAILS.DESCRIPTION_TEXT' | translate}}</label>
    <textarea
      clrTextarea
      formControlName="description"
      name="description"
    ></textarea>
  </clr-textarea-container>
  <clr-input-container>
    <label>{{'COMMON.ACTIVE' | translate}}</label>
    <input clrInput type="checkbox" formControlName="active" clrToggle />
  </clr-input-container>
  <h3>{{'MERCHANT.PRODUCTS.DETAILS.PRODUCT_IMAGE' | translate}}</h3>
  <portal-single-image-upload-container
    [existingImageUrl]="product.media[0].url"
    (newImageSelected)="imageSelected($event)">

  </portal-single-image-upload-container>

  <ng-container *ngIf="'storeWindow' !== form.get('productType').value">
    <h3>{{'COMMON.PRICE' | translate}}</h3>
    <clr-input-container>
      <label>{{'COMMON.PRICE' | translate}}</label>
      <input
        clrInput
        type="number"
        min="1"
        step="any"
        name="price"
        formControlName="price"
      />
      <clr-icon shape="euro"></clr-icon>
    </clr-input-container>
    <clr-select-container>
      <label>{{'COMMON.TAX_RATE' | translate}}</label>
      <select clrSelect name="tax" formControlName="tax">
        <option value="7">7% {{'COMMON.VALUE_ADDED_TAX' | translate}}</option>
        <option value="19">19% {{'COMMON.VALUE_ADDED_TAX' | translate}}</option>
      </select>
    </clr-select-container>
  </ng-container>

  <ng-container *ngIf="'service' === form.get('productType').value" formGroupName="serviceBookingTemplate">
    <h3>{{'COMMON.SERVICE' | translate}}</h3>
    <input formControlName="type" type="text" name="type">
    <ng-container *ngFor="let date of product.serviceBookingTemplate.dates; index as i">
      <clr-date-container>
        <label>Start Datum:</label>
        <input type="date" clrDate formControlName="dates[i].start" />
      </clr-date-container>

      <clr-date-container>
        <label>End Datum:</label>
        <input type="date" clrDate formControlName="dates[i].end" />
      </clr-date-container>
    </ng-container>

    <button class="btn btn-default" type="submit" (click)="addServiceBookingDate()">Neuen Termin hinzuf√ºgen</button>
  </ng-container>

  <div class="button-wrapper">
    <button
      class="btn btn-primary"
      type="button"
      (click)="saveProduct()"
      [disabled]="form.invalid || saveInProgress"
    >
      {{'COMMON.SAVE' | translate}}
    </button>
  </div>
</form>
